name: Deploy website
on:
   push:
      branches:
         - main
jobs:
   test:
      runs-on: ubuntu-latest
      steps:
         - name: Get code
           uses: actions/checkout@v3
         - name: Install dependencies

           run: yarn install --frozen-lockfile
         - name: Lint code
           run: yarn lint
         - name: Test code
           run: yarn test
   build:
      needs: test
      runs-on: ubuntu-latest
      steps:
         - name: Get code
           uses: actions/checkout@v3
         - name: Install dependencies
           run: yarn install --frozen-lockfile
         - name: Build website
           run: yarn build
         - name: Upload artifacts
           uses: actions/upload-artifact@v3 # action to upload the artifacts or the produced result fo a job
           with:
              name: Upload dist file
              path: dist # path to file of folter to upload
   deploy:
      needs: build
      runs-on: ubuntu-latest
      steps:
         - name: Deploy
           run: echo "Deploying..."
